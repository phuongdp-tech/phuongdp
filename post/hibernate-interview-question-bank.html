<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9PVHR7FRM2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-9PVHR7FRM2');
    </script>
    <meta charset="utf-8" />
    <title>Winzone blog - Hibernate interview question bank</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Winzone blog - Sharing knowledge, together we win" />
    <meta name="keywords" content="HTML, CSS, SQL, JAVA, SPRING, BLOCKCHAIN, SOLIDITY, RUST" />
    <meta name="author" content="PhuongDP" />
    <!-- favicon -->
    <link rel="shortcut icon" href="../images/favicon.ico">
    <!-- Bootstrap -->
    <link href="../css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <!-- Icons -->
    <link href="../css/materialdesignicons.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>

    <!-- Main Css -->
    <link href="../css/style.css" rel="stylesheet" type="text/css" id="theme-opt" />
    <link href="../css/colors/green.css" rel="stylesheet" id="color-opt">
</head>

<body>
<!-- Loader -->
<div id="preloader">
    <div id="status">
        <div class="spinner">
            <div class="double-bounce1"></div>
            <div class="double-bounce2"></div>
        </div>
    </div>
</div>
<!-- Loader -->

<!--<div id="fb-root"></div>-->
<!--<script async defer crossorigin="anonymous" src="https://connect.facebook.net/vi_VN/sdk.js#xfbml=1&version=v12.0&appId=349033547077915&autoLogAppEvents=1" nonce="a4JaignQ"></script>-->

<!-- Navbar STart -->
<header id="topnav" class="defaultscroll sticky">

</header><!--end header-->
<!-- Navbar End -->

<!-- Hero Start -->
<section class="bg-half bg-sologan d-table w-100">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-12 text-center">
                <div class="page-next-level">
                    <h1 class="title title-blog-detail">Top những câu hỏi phỏng vấn Hibernate</h1>
                    <ul class="list-unstyled mt-4">
                        <li class="list-inline-item h6 user text-muted mr-2"><i class="mdi mdi-account"></i> Phuong Dang</li>
                        <li class="list-inline-item h6 date text-muted"><i class="mdi mdi-calendar-check"></i> 23/Oct/2022</li>
                    </ul>
                </div>
            </div>  <!--end col-->
        </div><!--end row-->
    </div> <!--end container-->
</section><!--end section-->
<!-- Hero End -->

<!-- Blog STart -->
<section class="section-two">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="card blog blog-detail shadow rounded">
                    <div class="card-body content">
                        <h6><i class="mdi mdi-tag text-primary mr-1"></i><a href="/?q=hibernate" class="text-primary">hibernate</a></h6>
                        <section class="table-content rounded">
                            <ol class="mb-0 code-blue-text">
                                <li><a href="#compare-jpa-and-hibernate">So sánh JPA và Hibernate</a></li>
                                <li><a href="#what-is-the-hibernate-session">Hibernate Session là gì?</a></li>
                                <li><a href="#what-is-the-hibernate-session-factory">Hibernate SessionFactory là gì?</a></li>
                                <li><a href="#decribe-about-object-lifecycle-in-hibernate">Mô tả về object lifecycle trong hibernate</a></li>
                                <li><a href="#compare-persist-and-save-method">So sánh persist() và save() method</a></li>
                                <li><a href="#compare-update-and-merge-method">So sánh merge() và update() method</a></li>
                                <li><a href="#compare-remove-and-delete-method">So sánh remove() và delete() method</a></li>
                                <li><a href="#compare-get-and-load-method">So sánh get() và load() method</a></li>
                                <li><a href="#compare-lazy-and-eager-fetch-type">So sánh fetch type: Lazy và Eager</a></li>
                                <li><a href="#compare-first-level-cache-and-second-level-cache">So sánh First Level Cache và Second Level Cache</a></li>
                            </ol>
                        </section>
                        <div class="mt-3">
                            <p><strong>Trong bài viết này mình sẽ tổng hợp những câu hỏi phỏng vấn Hibernate cho đối tượng Fresher.</strong></p>

                            <p class="caution rounded p-3 mt-3">
                                <i class="fas fa-exclamation-circle"></i>  Hibernate version 5.6
                            </p>
                        </div>

                        <div class="question-content">
                            <h2 id="compare-jpa-and-hibernate" class="mt-4 d-flex align-items-center justify-content-between">
                                <span>1. So sánh JPA và Hibernate</span>
                                <i class="fas fa-angle-down collapse-icon" title="Collapse"></i>
                                <i class="fas fa-angle-left expand-icon" title="Expand"></i>
                            </h2>

                            <div class="answer-content">
                                <div class="table-responsive">
                                    <table class="table table-bordered align-middle">
                                        <thead>
                                        <tr>
                                            <th scope="col">Java Persistence API (JPA)</th>
                                            <th scope="col">Hibernate</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td>JPA là một tập các class/interface/annotation specification mô tả, hướng dẫn triển khai standard ORM cho ứng dụng Java</td>
                                            <td>Hibernate là một trong những JPA Provider, implement cho những specification của JPA</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="question-content">
                            <h2 id="what-is-the-hibernate-session" class="mt-4 d-flex align-items-center justify-content-between">
                                <span>2. Hibernate Session là gì?</span>
                                <i class="fas fa-angle-down collapse-icon" title="Collapse"></i>
                                <i class="fas fa-angle-left expand-icon" title="Expand"></i>
                            </h2>
                            <div class="answer-content">
                                <p>Session là 1 short-lived object duy trì connection giữa Java application và database, vì bản chất Session wrap một JDBC java.sql.Connection bên trong nó.
                                    Session cung cấp những method để thao tác CRUD với dữ liệu như: <code>persist()/save()</code>, <code>merge()/update()</code>, <code>load()/get()</code>, <code>delete()/remove()</code>. Ngoài ra nó còn cung cấp các method factory để tạo ra instance của Query, Criteria, Transaction</p>
                            </div>
                        </div>

                        <div class="question-content">
                            <h2 id="what-is-the-hibernate-session-factory" class="mt-4 d-flex align-items-center justify-content-between">
                                <span>3. Hibernate SessionFactory là gì?</span>
                                <i class="fas fa-angle-down collapse-icon" title="Collapse"></i>
                                <i class="fas fa-angle-left expand-icon" title="Expand"></i>
                            </h2>
                            <div class="answer-content">
                                <p>SessionFactory giúp tạo các Session objects dựa trên các configuration parameters để tạo kết nối đến database. SessionFactory chứa thông tin mapping các entity đến database. SessionFactory thread-safe và immutable, nên khi instance được tạo thì không thể thay đổi.</p>
                                <p>Tạo ra một instance của SessionFactory rất tốn tài nguyên, do đó thông thường với mỗi database thì application chỉ nên có 1 SessionFactory liên kết đến.</p>
                            </div>
                        </div>

                        <div class="question-content">
                            <h2 id="decribe-about-object-lifecycle-in-hibernate" class="mt-4 d-flex align-items-center justify-content-between">
                                <span>4. Mô tả về object lifecycle trong hibernate</span>
                                <i class="fas fa-angle-down collapse-icon" title="Collapse"></i>
                                <i class="fas fa-angle-left expand-icon" title="Expand"></i>
                            </h2>
                            <div class="answer-content">
                                <div class="table-responsive">
                                    <table class="table table-bordered align-middle">
                                        <thead>
                                        <tr>
                                            <th scope="col">Hibernate State</th>
                                            <th scope="col">JPA State</th>
                                            <th scope="col">Description</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <th scope="row">Transient</th>
                                            <th scope="row">New</th>
                                            <td>The entity instances have no persistent identity and are not yet associated with a persistence context.</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Persistent</th>
                                            <th scope="row">Managed</th>
                                            <td>The entity instances have a persistent identity and are associated with a persistence context.</td>
                                        </tr>
                                        <tr>
                                            <th scope="row" colspan="2">Detached</th>
                                            <td>The entity instances have a persistent identity and are not currently associated with a persistence context</td>
                                        </tr>
                                        <tr>
                                            <th scope="row" colspan="2">Removed</th>
                                            <td>The entity instances have a persistent identity, are associated with a persistent context, and are scheduled for removal from the data store</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div class="question-content">
                            <h2 id="compare-persist-and-save-method" class="mt-4 d-flex align-items-center justify-content-between">
                                <span>5. So sánh <code>persist()</code> và <code>save()</code> method</span>
                                <i class="fas fa-angle-down collapse-icon" title="Collapse"></i>
                                <i class="fas fa-angle-left expand-icon" title="Expand"></i>
                            </h2>
                            <div class="answer-content">
                                <div class="table-responsive">
                                    <table class="table table-bordered align-middle">
                                        <thead>
                                        <tr>
                                            <th scope="col" style="width: 10%">#</th>
                                            <th scope="col" style="width: 30%"><code>persist()</code></th>
                                            <th scope="col" style="width: 30%"><code>save()</code></th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <th scope="row">Purpose</th>
                                            <td colspan="2" class="text-center">Thêm mới entity vào database thông qua việc generate câu lệch INSERT tương ứng</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Transaction</th>
                                            <td>Required</td>
                                            <td>Optional</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Return type</th>
                                            <td><code>void</code></td>
                                            <td><code>ID (java.io.Serializable)</code> của record được thêm mới</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Cascading</th>
                                            <td>
                                                <ul>
                                                    <li><code>javax.persistence.CascadeType.PERSIST</code></li>
                                                    <li><code>org.hibernate.annotations.CascadeType.PERSIST</code></li>
                                                    <li><code>org.hibernate.annotations.CascadeType.SAVE_UPDATE</code></li>
                                                </ul>
                                            </td>
                                            <td><code>org.hibernate.annotations.CascadeType.SAVE_UPDATE</code></td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Support</th>
                                            <td>JPA Provider</td>
                                            <td>Hibernate</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div class="question-content">
                            <h2 id="compare-update-and-merge-method" class="mt-4 d-flex align-items-center justify-content-between">
                                <span>6. So sánh <code>merge()</code> và <code>update()</code> method</span>
                                <i class="fas fa-angle-down collapse-icon" title="Collapse"></i>
                                <i class="fas fa-angle-left expand-icon" title="Expand"></i>
                            </h2>
                            <div class="answer-content">
                                <div class="table-responsive">
                                    <table class="table table-bordered align-middle">
                                        <thead>
                                        <tr>
                                            <th scope="col" style="width: 10%">#</th>
                                            <th scope="col" style="width: 30%"><code>merge()</code></th>
                                            <th scope="col" style="width: 30%"><code>update()</code></th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <th scope="row">Purpose</th>
                                            <td>Insert/Update entity tùy thuộc vào state</td>
                                            <td>Update entity</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Implementation</th>
                                            <td>
                                                <ul>
                                                    <li>Generate SELECT statement để kiểm tra trạng thái.</li>
                                                    <li>Nếu identify chưa tồn tại => Insert record.</li>
                                                    <li>Nếu identify đã tồn tại => Update record.</li>
                                                </ul>
                                            </td>
                                            <td>
                                                Generate UPDATE statement không cần SELECT kiểm tra trước
                                            </td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Transient entity</th>
                                            <td>Inserted new record</td>
                                            <td>Throw exception <code>org.hibernate.TransientObjectException</code></td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Persistent entity</th>
                                            <td colspan="2">Updated value (Nếu có sự thay đổi).</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Detached entity</th>
                                            <td>
                                                <ul>
                                                    <li>Identify chưa tồn tại => Insert record.</li>
                                                    <li>Identify đã tồn tại => Update record.</li>
                                                </ul>
                                            </td>
                                            <td>
                                                <ul>
                                                    <li>Identify chưa tồn tại => <span class="text-danger">Throw exception</span>.</li>
                                                    <li>Identify đã tồn tại => Update record.</li>
                                                </ul>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Cascading</th>
                                            <td>
                                                <ul>
                                                    <li><code>javax.persistence.CascadeType.MERGE</code></li>
                                                    <li><code>org.hibernate.annotations.CascadeType.MERGE</code></li>
                                                    <li><code>org.hibernate.annotations.CascadeType.SAVE_UPDATE</code></li>
                                                </ul>
                                            </td>
                                            <td><code>org.hibernate.annotations.CascadeType.SAVE_UPDATE</code></td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Support</th>
                                            <td>JPA Provider</td>
                                            <td>Hibernate</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div class="question-content">
                            <h2 id="compare-remove-and-delete-method" class="mt-4 d-flex align-items-center justify-content-between">
                                <span>7. So sánh <code>remove()</code> và <code>delete()</code> method</span>
                                <i class="fas fa-angle-down collapse-icon" title="Collapse"></i>
                                <i class="fas fa-angle-left expand-icon" title="Expand"></i>
                            </h2>
                            <div class="answer-content">
                                <div class="table-responsive">
                                    <table class="table table-bordered align-middle">
                                        <thead>
                                        <tr>
                                            <th scope="col" style="width: 10%">#</th>
                                            <th scope="col" style="width: 30%"><code>remove()</code></th>
                                            <th scope="col" style="width: 30%"><code>delete()</code></th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <th scope="row">Purpose</th>
                                            <td colspan="2" class="text-center">Xóa entity khỏi database thông qua việc generate câu lệch DELETE tương ứng</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Cascading</th>
                                            <td colspan="2">
                                                <ul>
                                                    <li><code>javax.persistence.CascadeType.REMOVE</code></li>
                                                    <li><code>org.hibernate.annotations.CascadeType.REMOVE</code></li>
                                                    <li><code>org.hibernate.annotations.CascadeType.DELETE</code></li>
                                                </ul>
                                            </td>
                                        </tr>
                                        <!--                                    <tr>-->
                                        <!--                                        <th scope="row">Transaction</th>-->
                                        <!--                                        <td>Required</td>-->
                                        <!--                                        <td>Optional</td>-->
                                        <!--                                    </tr>-->
                                        <!--                                    <tr>-->
                                        <!--                                        <th scope="row">Return type</th>-->
                                        <!--                                        <td><code>void</code></td>-->
                                        <!--                                        <td><code>ID (java.io.Serializable)</code> của record được thêm mới</td>-->
                                        <!--                                    </tr>-->
                                        <tr>
                                            <th scope="row">Support</th>
                                            <td>JPA Provider</td>
                                            <td>Hibernate</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div class="question-content">
                            <h2 id="compare-get-and-load-method" class="mt-4 d-flex align-items-center justify-content-between">
                                <span>8. So sánh <code>get()</code> và <code>load()</code> method</span>
                                <i class="fas fa-angle-down collapse-icon" title="Collapse"></i>
                                <i class="fas fa-angle-left expand-icon" title="Expand"></i>
                            </h2>
                            <div class="answer-content">
                                <div class="table-responsive">
                                    <table class="table table-bordered align-middle">
                                        <thead>
                                        <tr>
                                            <th scope="col" style="width: 10%">#</th>
                                            <th scope="col" style="width: 30%"><code>get()</code></th>
                                            <th scope="col" style="width: 30%"><code>load()</code></th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <th scope="row">Purpose</th>
                                            <td colspan="2" class="text-center">Lấy data của entity thông qua Identity</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Null Object</th>
                                            <td>Return <code>null</code></td>
                                            <td>Throw <code>ObjectNotFoundException</code></td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Lazy or Eager loading</th>
                                            <td>
                                                <p>Eager load</p>
                                                <p>Data của object sẽ được lấy ngay và trực tiếp trong database</p>
                                            </td>
                                            <td>
                                                <p>Lazy load</p>
                                                <p>Sẽ return data của proxy object trước cho đến khi sử dụng data mới request lấy dữ liệu của database</p>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div class="question-content">
                            <h2 id="compare-lazy-and-eager-fetch-type" class="mt-4 d-flex align-items-center justify-content-between">
                                <span>9. So sánh FetchType.LAZY và FetchType.EAGER</span>
                                <i class="fas fa-angle-down collapse-icon" title="Collapse"></i>
                                <i class="fas fa-angle-left expand-icon" title="Expand"></i>
                            </h2>
                            <div class="answer-content">
                                <p>FetchType là một thuộc tính trong các annotation <code>@OneToOne</code>, <code>@OneToMany</code>, <code>@ManyToOne</code>, <code>@ManyToMany</code> được dùng để định nghĩa phương thức lấy các đối tượng liên quan.</p>
                                <p>Giả sử ta có entity A có liên kết đến entity B: </p>
                                <div class="table-responsive">
                                    <table class="table table-bordered align-middle">
                                        <thead>
                                        <tr>
                                            <th scope="col" style="width: 30%"><code>FetchType.LAZY</code></th>
                                            <th scope="col" style="width: 30%"><code>FetchType.EAGER</code></th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td>Nếu ta select đối tượng A thì sẽ <strong>KHÔNG</strong> auto lấy các đối tượng B có liên kết PK/FK với A</td>
                                            <td>Nếu ta select đối tượng A thì sẽ auto lấy các đối tượng B có liên kết PK/FK với A</td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <ul>
                                                    <li>Ưu điểm: Tiết kiệm tài nguyên khi select, chỉ lấy data khi cần thiết</li>
                                                    <li>Nhược điểm: Có thể gây lỗi <code>LazyInitializationException</code>, nếu muốn lấy các dữ liệu liên quan mà session đã close</li>
                                                </ul>
                                            </td>
                                            <td>
                                                <ul>
                                                    <li>Ưu điểm: Lấy luôn các đối tượng liên quan cùng 1 lúc, nhanh gọn cho các xử lý tiếp theo nếu cần dùng đến.</li>
                                                    <li>Nhược điểm: Có thể lấy thừa dữ liệu không cần thiết</li>
                                                </ul>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div class="question-content">
                            <h2 id="compare-first-level-cache-and-second-level-cache" class="mt-4 d-flex align-items-center justify-content-between">
                                <span>10. So sánh First Level Cache và Second Level Cache</span>
                                <i class="fas fa-angle-down collapse-icon" title="Collapse"></i>
                                <i class="fas fa-angle-left expand-icon" title="Expand"></i>
                            </h2>
                            <div class="answer-content">
                                <div class="table-responsive">
                                    <table class="table table-bordered align-middle">
                                        <thead>
                                        <tr>
                                            <th scope="col" style="width: 10%">#</th>
                                            <th scope="col" style="width: 30%">First Level Cache</th>
                                            <th scope="col" style="width: 30%">Second Level Cache</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <th scope="row">Purpose</th>
                                            <td colspan="2" class="text-center">Cải thiện hiệu quả truy xuất dữ liệu</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Configuring</th>
                                            <td>Default enable và không thể disable</td>
                                            <td>Default disable và cần config để enable</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Scope</th>
                                            <td>Session</td>
                                            <td>SessionFactory</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Sharing among sessions</th>
                                            <td>No</td>
                                            <td>Yes</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Lifespan</th>
                                            <td>
                                                <ul>
                                                    <li>Khi Session object bị close thì First Level Cache thuộc về object đó sẽ mất đi.</li>
                                                    <li>Chủ động xóa entity object ra khỏi First Level Cache bằng các method: <code>evict(), clear()</code>.</li>
                                                </ul>
                                            </td>
                                            <td>
                                                <ul>
                                                    <li>Khi SessionFactory bị close thì Second Level Cache sẽ bị mất đi</li>
                                                    <li>Chủ động xóa entity object ra khỏi Second Level Cache bằng các method: <code>evict(), evictAll(), evictEntityData()</code>.</li>
                                                </ul>
                                            </td>
                                        </tr>

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>


                        <!--                        <h2 id="summary" class="mt-4">6. Kết luận</h2>-->


                </div>
            </div>
            </div>
        </div>
    </div><!--end container-->
</section><!--end section-->
<!-- Blog End -->

<footer id="footer-page"></footer>

<!-- javascript -->
<script src="../js/jquery-3.4.1.min.js"></script>
<script src="../js/bootstrap.bundle.min.js"></script>
<script src="../js/jquery.easing.min.js"></script>
<script src="../js/scrollspy.min.js"></script>
<!-- Icons -->
<script src="../js/feather.min.js"></script>
<script src="../js/unicons-monochrome.js"></script>

<!-- Main Js -->
<script src="../js/app.js"></script>
</body>
</html>
